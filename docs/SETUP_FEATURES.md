# Setup Script Features Demonstration

## Enhanced Interactive Setup Script

Полностью переработанный скрипт установки с профессиональным UI/UX:

### 🎨 Визуальные улучшения

#### Красивый заголовок
```
╔════════════════════════════════════════════════════════════╗
║                                                            ║
║          🚀  AI JARVIS SETUP WIZARD  🚀                    ║
║                                                            ║
║        Telegram AI Assistant с Agentic Workflow            ║
║                                                            ║
╚════════════════════════════════════════════════════════════╝
```

#### Цветовая схема
- 🟣 **Фиолетовый** - Заголовки и рамки
- 🔵 **Синий** - Информационные сообщения
- 🟢 **Зелёный** - Успешные операции
- 🟡 **Жёлтый** - Предупреждения
- 🔴 **Красный** - Ошибки
- 🔷 **Cyan** - Активные элементы

#### Progress Bar
```
Progress: [████████████████████████░░░░░░] 75%
```

#### Animated Spinner
```
 [⠋] Загрузка...
```

### 🔐 Интерактивный ввод credentials

#### 1. Telegram Bot Token
```
🤖 Telegram Bot Token
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   Как получить:
   1. Откройте Telegram и найдите @BotFather
   2. Отправьте команду /newbot
   3. Следуйте инструкциям для создания бота
   4. Скопируйте токен (формат: 1234567890:ABC...)

   🔑 Введите Telegram Bot Token: ••••••••••••••••••••
```

**Функции:**
- ✅ Скрытый ввод (не видно в терминале)
- ✅ Валидация формата (regex)
- ✅ Подсказки по получению
- ✅ Повторный запрос при ошибке

#### 2. OpenAI API Key
```
🧠 OpenAI API Key
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   Как получить:
   1. Перейдите на https://platform.openai.com
   2. Зарегистрируйтесь или войдите в аккаунт
   3. Перейдите в API Keys раздел
   4. Нажмите Create new secret key
   5. Скопируйте ключ (формат: sk-proj-... или sk-...)

   🔑 Введите OpenAI API Key: ••••••••••••••••••••
```

**Функции:**
- ✅ Поддержка старого (sk-) и нового (sk-proj-) формата
- ✅ Валидация ключа
- ✅ Безопасный ввод

#### 3. Дополнительные настройки
```
⚙️ Дополнительные настройки (опционально)

   Webhook URL (нажмите Enter для пропуска): 
   OpenAI Model (по умолчанию gpt-4-turbo-preview): 
```

### 🔍 Валидация

#### Telegram Token
- Формат: `[0-9]{8,10}:[A-Za-z0-9_-]{35}`
- Пример: `1234567890:ABC-DEF1234ghiJKL-zyx57W2v1u123ew11`

#### OpenAI Key
- Формат: `sk-(proj-)?[A-Za-z0-9]{20,}`
- Примеры:
  - `sk-1234567890abcdefghij...`
  - `sk-proj-1234567890abcdefghij...`

### ✨ Автоматизация

1. **Проверка существующего .env**
   ```
   ⚠ .env файл уже существует
      Перезаписать существующие настройки? (y/N):
   ```

2. **Автоматическая генерация**
   - Secret key (OpenSSL rand)
   - Webhook secret
   - Все переменные окружения

3. **Сохранение в .env**
   ```
   📝 Создание конфигурационного файла
   ✓ Конфигурация сохранена в .env
   ```

### 🐳 Docker Setup

#### Progress с spinner
```
🐳 Запуск Docker контейнеров

Загрузка и запуск сервисов... [⠋]
✓ Docker контейнеры запущены
```

#### Ожидание готовности
```
⏱ Ожидание готовности сервисов

Progress: [████████████████████████████████████████████████] 100%

✓ Все сервисы готовы к работе!
```

### 🗄️ Database Initialization

```
🗄️ Инициализация базы данных

Создание таблиц и расширений...
✓ База данных инициализирована
```

### 🏥 Health Check

```
🏥 Проверка здоровья сервисов

✓ API сервер работает
```

### 🎉 Success Screen

```
╔════════════════════════════════════════════════════════════╗
║                                                            ║
║              ★★★  УСТАНОВКА ЗАВЕРШЕНА!  ★★★              ║
║                                                            ║
╚════════════════════════════════════════════════════════════╝

ℹ Сервисы запущены и доступны:

   FastAPI Docs:    http://localhost:8000/docs
   API Health:      http://localhost:8000/health
   Qdrant UI:       http://localhost:6333/dashboard

📋 Следующие шаги:

   1. Откройте Telegram и найдите вашего бота
   2. Отправьте команду /start
   3. Начните общаться с AI ассистентом!

🔧 Полезные команды:

   docker-compose logs -f backend     - Просмотр логов
   docker-compose ps                  - Статус контейнеров
   docker-compose down                - Остановить все
   docker-compose restart backend     - Перезапустить backend

📖 Документация:

   README.md          - Общая информация
   QUICKSTART.md      - Быстрый старт
   DEVELOPMENT.md     - Руководство разработчика
   NEXT_STEPS.md      - План развития проекта

Удачи с AI Jarvis! 🚀
```

## Использование

### Запуск
```bash
./setup.sh
```

### Пример сессии

```
╔════════════════════════════════════════════════════════════╗
║          🚀  AI JARVIS SETUP WIZARD  🚀                    ║
╚════════════════════════════════════════════════════════════╝

➜ Проверка системных требований

✓ Docker установлен
✓ Docker Compose установлен
✓ Docker запущен

➜ 🔐 Настройка API ключей

🤖 Telegram Bot Token
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   Как получить:
   1. Откройте Telegram и найдите @BotFather
   2. Отправьте команду /newbot
   ...

   🔑 Введите Telegram Bot Token: [user types]
✓ Telegram токен валиден!

🧠 OpenAI API Key
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   ...
   🔑 Введите OpenAI API Key: [user types]
✓ OpenAI ключ валиден!

➜ ⚙️ Дополнительные настройки (опционально)
   ...

➜ 📝 Создание конфигурационного файла
✓ Конфигурация сохранена в .env

➜ 🐳 Запуск Docker контейнеров
   [spinner animation]
✓ Docker контейнеры запущены

➜ ⏱ Ожидание готовности сервисов
Progress: [████████████████████████████████████████████████] 100%
✓ Все сервисы готовы к работе!

➜ 🗄️ Инициализация базы данных
✓ База данных инициализирована

➜ 🏥 Проверка здоровья сервисов
✓ API сервер работает

╔════════════════════════════════════════════════════════════╗
║              ★★★  УСТАНОВКА ЗАВЕРШЕНА!  ★★★              ║
╚════════════════════════════════════════════════════════════╝
```

## Преимущества

✅ **User-friendly** - Понятные инструкции на каждом шаге  
✅ **Безопасность** - Скрытый ввод паролей и ключей  
✅ **Валидация** - Проверка формата всех credentials  
✅ **Автоматизация** - Создание .env, генерация secrets  
✅ **Visual feedback** - Цвета, прогресс-бары, спиннеры  
✅ **Error handling** - Понятные сообщения об ошибках  
✅ **Документированность** - Инструкции где получить ключи  
✅ **Профессиональный вид** - Красивый UI как в коммерческих продуктах
